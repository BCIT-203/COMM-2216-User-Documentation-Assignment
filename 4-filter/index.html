
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://bcit-203.github.io/COMM-2216-User-Documentation-Assignment/4-filter/">
      
      
        <link rel="prev" href="../3-commit/">
      
      
        <link rel="next" href="../8-troubleshoot/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>How to git-filter-branch and git-filter-repo - Git User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-git-filter-branch-and-git-filter-repo" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Git User Documentation" class="md-header__button md-logo" aria-label="Git User Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Git User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to git-filter-branch and git-filter-repo
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Git User Documentation" class="md-nav__button md-logo" aria-label="Git User Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Git User Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation and Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2-repository/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Clone and Initialize a Repository
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3-commit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Do, Undo, Revert, Redo, and Edit Previous Commits
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    How to git-filter-branch and git-filter-repo
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    How to git-filter-branch and git-filter-repo
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-repository-before-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Backup Repository Before Filtering
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-filter-branch-overview" class="md-nav__link">
    <span class="md-ellipsis">
      git-filter-branch Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="git-filter-branch Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-a-specific-file-from-entire-history" class="md-nav__link">
    <span class="md-ellipsis">
      Remove a Specific File from Entire History
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove a Specific File from Entire History">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-commit-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Modify Commit Messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modify Commit Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace-an-author-name-and-email-across-all-commits" class="md-nav__link">
    <span class="md-ellipsis">
      Replace an Author Name and Email Across All Commits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replace an Author Name and Email Across All Commits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_2" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-large-files-from-git-history" class="md-nav__link">
    <span class="md-ellipsis">
      Remove Large Files from Git History
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove Large Files from Git History">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_3" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-filter-repo-overview" class="md-nav__link">
    <span class="md-ellipsis">
      git-filter-repo Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="git-filter-repo Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-git-filter-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Install git-filter-repo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install git-filter-repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_4" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-a-file-from-repository-history-with-git-filter-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Remove a File from Repository History with git-filter-repo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove a File from Repository History with git-filter-repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_5" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-the-author-of-specific-commits" class="md-nav__link">
    <span class="md-ellipsis">
      Change the Author of Specific Commits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Change the Author of Specific Commits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_6" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-multiple-files-from-history" class="md-nav__link">
    <span class="md-ellipsis">
      Remove Multiple Files from History
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove Multiple Files from History">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_7" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace-a-string-in-commit-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Replace a String in Commit Messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replace a String in Commit Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_8" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../8-troubleshoot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../9-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-repository-before-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Backup Repository Before Filtering
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-filter-branch-overview" class="md-nav__link">
    <span class="md-ellipsis">
      git-filter-branch Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="git-filter-branch Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-a-specific-file-from-entire-history" class="md-nav__link">
    <span class="md-ellipsis">
      Remove a Specific File from Entire History
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove a Specific File from Entire History">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-commit-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Modify Commit Messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modify Commit Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace-an-author-name-and-email-across-all-commits" class="md-nav__link">
    <span class="md-ellipsis">
      Replace an Author Name and Email Across All Commits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replace an Author Name and Email Across All Commits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_2" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-large-files-from-git-history" class="md-nav__link">
    <span class="md-ellipsis">
      Remove Large Files from Git History
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove Large Files from Git History">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_3" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-filter-repo-overview" class="md-nav__link">
    <span class="md-ellipsis">
      git-filter-repo Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="git-filter-repo Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-git-filter-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Install git-filter-repo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install git-filter-repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_4" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-a-file-from-repository-history-with-git-filter-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Remove a File from Repository History with git-filter-repo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove a File from Repository History with git-filter-repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_5" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-the-author-of-specific-commits" class="md-nav__link">
    <span class="md-ellipsis">
      Change the Author of Specific Commits
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Change the Author of Specific Commits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_6" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-multiple-files-from-history" class="md-nav__link">
    <span class="md-ellipsis">
      Remove Multiple Files from History
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove Multiple Files from History">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_7" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace-a-string-in-commit-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Replace a String in Commit Messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replace a String in Commit Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instruction_8" class="md-nav__link">
    <span class="md-ellipsis">
      Instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="how-to-git-filter-branch-and-git-filter-repo">How to  <code>git-filter-branch</code> and <code>git-filter-repo</code></h1>
<h2 id="overview">Overview</h2>
<p>When working with Git repositories, there are scenarios where you might need to rewrite history, such as removing sensitive data, editing commit messages, or cleaning up large files. Git provides two powerful tools for this task: <code>git-filter-branch</code> and <code>git-filter-repo</code>. While<code>git-filter-branch</code> is widely used, <code>git-filter-repo</code> is a more modern, faster, and more efficient alternative. Both tools allow you to rewrite commit history, but they differ in performance and flexibility.</p>
<p>In this guide, we will walk through detailed examples of using both tools to filter and rewrite Git history, breaking down the steps into more than 10 specific actions.</p>
<hr />
<h2 id="backup-repository-before-filtering">Backup Repository Before Filtering</h2>
<p>Before running any filtering operations, it’s essential to back up your repository to prevent data loss. You can create a backup by cloning the repository:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>git<span class="w"> </span>clone<span class="w"> </span>--mirror<span class="w"> </span>&lt;repository-url&gt;<span class="w"> </span>&lt;backup-directory&gt;
</span></code></pre></div>
<ol>
<li>This creates a full backup of your repository in <code>&lt;backup-directory&gt;</code>.</li>
<li>Ensure you test any filtering operations on the backup repository first.</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Always back up your repository before using <code>git-filter-branch</code> or <code>git-filter-repo</code>, as these operations rewrite history and can result in permanent data loss.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Both <code>git-filter-branch</code> and <code>git-filter-repo</code> rewrite Git history. This means commit hashes will change, and this can cause issues if others have cloned or forked the repository. Rewriting history can disrupt collaboration, so it should only be done on private branches or with careful coordination.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>After filtering, you will need to <strong>force push</strong> (<code>git push --force</code>) to update the remote repository. This can cause conflicts for other contributors, so it’s best to communicate changes clearly.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Running <code>git-filter-branch</code> or <code>git-filter-repo</code> on large repositories can take time. Always run the filter on a clone of the repository to test the process before applying it to the main repository.</p>
</div>
<hr />
<h2 id="git-filter-branch-overview"><code>git-filter-branch</code> Overview</h2>
<p><code>git-filter-branch</code> is an older but still commonly used tool in Git to rewrite commit history. It is particularly useful for tasks like removing sensitive files from the history or modifying commit messages. However, it can be slow on large repositories.</p>
<h3 id="remove-a-specific-file-from-entire-history">Remove a Specific File from Entire History</h3>
<p>You can use <code>git-filter-branch</code> to remove a file, such as a sensitive configuration file, from the entire history of your Git repository.</p>
<h4 id="instruction">Instruction</h4>
<p>Run the following command to remove a specific file from the history:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>git<span class="w"> </span>filter-branch<span class="w"> </span>--tree-filter<span class="w"> </span><span class="s1">&#39;rm -f path/to/your/file&#39;</span><span class="w"> </span>--<span class="w"> </span>--all
</span></code></pre></div>
<p>Replace <code>path/to/your/file</code> with the file you want to remove.
This command will rewrite all commits and remove the specified file from every commit.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will rewrite all branches (<code>--all</code>) and affect the entire commit history.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure to make a backup before running this command, as it will permanently remove the file from history.</p>
</div>
<hr />
<h3 id="modify-commit-messages">Modify Commit Messages</h3>
<p>If you need to update the commit messages (for example, to correct typos or reword them), <code>git-filter-branch</code> can help.</p>
<h4 id="instruction_1">Instruction</h4>
<p>Run the following command to filter commit messages:</p>
<div class="language-text highlight"><pre><span></span><code>```bash
git filter-branch --msg-filter &#39;sed &quot;s/old-text/new-text/&quot;&#39; -- --all
```
</code></pre></div>
<p>Replace <code>old-text</code> and <code>new-text</code> with the text you want to change.
This will replace the specified text in all commit messages across all branches.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Modifying commit messages will rewrite commit history and affect all branches.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ensure that you do this carefully, especially if you’ve shared the history with others.</p>
</div>
<hr />
<h3 id="replace-an-author-name-and-email-across-all-commits">Replace an Author Name and Email Across All Commits</h3>
<p>If you need to change the author’s name or email address in the commit history:</p>
<h4 id="instruction_2">Instruction</h4>
<p>Run the following command to update the author’s name and email:</p>
<div class="language-text highlight"><pre><span></span><code>```bash
git filter-branch --env-filter &#39;
if [ &quot;$GIT_AUTHOR_NAME&quot; = &quot;Old Name&quot; ];
then
    export GIT_AUTHOR_NAME=&quot;New Name&quot;
    export GIT_AUTHOR_EMAIL=&quot;new-email@example.com&quot;
    export GIT_COMMITTER_NAME=&quot;New Name&quot;
    export GIT_COMMITTER_EMAIL=&quot;&lt;new-email@example.com&gt;&quot;
fi&#39; -- --all
```
</code></pre></div>
<p>Replace <code>Old Name</code> with the current author name and <code>New Name</code> with the new name.
This will update both the author and committer information for all commits.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This action rewrites history and should be done with caution, especially if the repository is shared with others.</p>
</div>
<hr />
<h3 id="remove-large-files-from-git-history">Remove Large Files from Git History</h3>
<p>To remove a large file (e.g., a <code>.zip</code> file or image) that was accidentally committed, use <code>git-filter-branch</code> with the <code>--tree-filter</code> option.</p>
<h4 id="instruction_3">Instruction</h4>
<p>Run the following command to remove the file:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>git<span class="w"> </span>filter-branch<span class="w"> </span>--tree-filter<span class="w"> </span><span class="s1">&#39;rm -f path/to/largefile&#39;</span><span class="w"> </span>--<span class="w"> </span>--all
</span></code></pre></div>
<p>Replace <code>path/to/largefile</code> with the path to the file you want to remove.
This will delete the file from all commits, reducing repository size.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Removing large files will reduce the repository size, but it will also rewrite the history.</p>
</div>
<hr />
<h2 id="git-filter-repo-overview"><code>git-filter-repo</code> Overview</h2>
<p><code>git-filter-repo</code> is a more efficient and flexible tool designed to handle large repositories and more complex filtering tasks. It is faster than <code>git-filter-branch</code> and is recommended for more advanced users. It’s also easier to install and use.</p>
<h3 id="install-git-filter-repo">Install <code>git-filter-repo</code></h3>
<h4 id="instruction_4">Instruction</h4>
<p>Before using <code>git-filter-repo</code>, you need to install it. Run the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pip<span class="w"> </span>install<span class="w"> </span>git-filter-repo
</span></code></pre></div>
<p>Alternatively, you can install it directly from <a href="https://github.com/newren/git-filter-repo">GitHub</a>.</p>
<hr />
<h3 id="remove-a-file-from-repository-history-with-git-filter-repo">Remove a File from Repository History with <code>git-filter-repo</code></h3>
<p>You can remove a file from the entire history of the repository using.</p>
<h4 id="instruction_5">Instruction</h4>
<p>Run the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>git<span class="w"> </span>filter-repo<span class="w"> </span>--invert-paths<span class="w"> </span>--path<span class="w"> </span>secret.txt
</span></code></pre></div>
<p>This command will remove <code>secret.txt</code> from every commit.
The <code>--invert-paths</code> option tells Git to exclude (filter out) the specified file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>git-filter-repo</code> is faster and more efficient than <code>git-filter-branch</code>, especially on large repositories.</p>
</div>
<hr />
<h3 id="change-the-author-of-specific-commits">Change the Author of Specific Commits</h3>
<p>You can modify the author’s name for specific commits using <code>git-filter-repo</code>. For example, to change the author for commits by a specific person:</p>
<h4 id="instruction_6">Instruction</h4>
<p>Run the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>git<span class="w"> </span>filter-repo<span class="w"> </span>--commit-callback<span class="w"> </span><span class="s1">&#39;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="s1">if commit.author_name == &quot;Old Author&quot;:</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="s1">      commit.author_name = &quot;New Author&quot;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="s1">&#39;</span>
</span></code></pre></div>
<p>This will update all commits made by <code>Old Author</code> and change the name to <code>New Author.</code></p>
<hr />
<h3 id="remove-multiple-files-from-history">Remove Multiple Files from History</h3>
<p>You can remove multiple files.</p>
<h4 id="instruction_7">Instruction</h4>
<p>Run the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>git<span class="w"> </span>filter-repo<span class="w"> </span>--invert-paths<span class="w"> </span>--path<span class="w"> </span>secret.txt<span class="w"> </span>--path<span class="w"> </span>config.json
</span></code></pre></div>
<p>This command will remove both files, <code>secret.txt</code> and <code>config.json</code>, from the entire repository history.</p>
<hr />
<h3 id="replace-a-string-in-commit-messages">Replace a String in Commit Messages</h3>
<p>YOu can replace a specific string across all commit messages.</p>
<h4 id="instruction_8">Instruction</h4>
<p>Run the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>git<span class="w"> </span>filter-repo<span class="w"> </span>--message-callback<span class="w"> </span><span class="s1">&#39;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="s1">if &quot;old-text&quot; in commit.message:</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="s1">    commit.message = commit.message.replace(&quot;old-text&quot;, &quot;new-text&quot;)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="s1">&#39;</span>
</span></code></pre></div>
<p>This command replaces <code>old-text</code> with <code>new-text</code> in all commit messages.</p>
<hr />
<h2 id="conclusion">Conclusion</h2>
<p>Both <code>git-filter-branch</code> and <code>git-filter-repo</code> are powerful tools for rewriting Git history. While <code>git-filter-branch</code> is useful for simpler tasks, <code>git-filter-repo</code> is more efficient and suited for larger repositories.</p>
<p>Always back up your repository before using these tools, and communicate with collaborators if you’re working in a shared repository. With the right precautions, you can clean up your Git history and improve your repository management effectively.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>